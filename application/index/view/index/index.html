<!DOCTYPE HTML>
<html>
<head>
<title>{block name="title"}首页-爱闪视频网{/block}</title>
</head>
<body>
  	<!-- 调用展示页专用的页面模板 -->
  	{extend name="layoutShow"}
		<!-- 展示内容 -->
	{block name="showBody"}
	<!-- 视频展示页面 -->
	<div class="main-grids">
		<!-- 排行榜 -->
		<div class="top-grids">
			<div class="recommended-info">
				<button class="btnTop3 choice">新晋TOP3</button>
				<button class="btnTop3">优选TOP3</button>
				<button class="btnTop3">热榜TOP3</button>
			</div>
			<!-- 排行榜视频第一批展示-需要遍历 -->
			<div class="boxTop3 show">
				{foreach $noTime as $vTime}
				<div class="col-md-4 resent-grid recommended-grid slider-top-grids">
					<div class="resent-grid-img recommended-grid-img">
						<a href="/index/single/single?vid={$vTime['id']}"><img src="http://p3d4qx20z.bkt.clouddn.com/{$vTime['pic']}" alt="" style="box-shadow: 2px 2px 2px #C1C1C1;" /></a>
						<div class="clck">
							<span class="glyphicon glyphicon-time" aria-hidden="true">{$vTime['time_long']}</span>
						</div>
					</div>
					<div class="resent-grid-info recommended-grid-info">
						<h3 style="height: 25px;"><a href="/index/single/single?vid={$vTime['id']}" class="title title-info">{$vTime['title']}</a></h3>
						<ul>
							<li><p class="author author-info"><a href="" class="author">{$vTime['up_name']}</a></p></li>
							<li class="right-list"><p class="views views-info">{$vTime['click_num'] / 2}次浏览</p></li>
						</ul>
					</div>
				</div>
				{/foreach}
				<div class="clearfix"> </div>
			</div>
			<!-- 排行榜视频第二批展示-需要遍历 -->
			<div class="boxTop3">
				{foreach $noLike as $vLike}
				<div class="col-md-4 resent-grid recommended-grid slider-top-grids">
					<div class="resent-grid-img recommended-grid-img">
						<a href="/index/single/single?vid={$vLike['id']}"><img src="http://p3d4qx20z.bkt.clouddn.com/{$vLike['pic']}" alt="" style="box-shadow: 2px 2px 2px #C1C1C1;" /></a>
						<div class="clck">
							<span class="glyphicon glyphicon-time" aria-hidden="true">{$vLike['time_long']}</span>
						</div>
					</div>
					<div class="resent-grid-info recommended-grid-info">
						<h3 style="height: 25px;"><a href="/index/single/single?vid={$vLike['id']}" class="title title-info">{$vLike['title']}</a></h3>
						<ul>
							<li><p class="author author-info"><a href="" class="author">{$vLike['up_name']}</a></p></li>
							<li class="right-list"><p class="views views-info">{$vLike['click_num'] / 2}次浏览</p></li>
						</ul>
					</div>
				</div>
				{/foreach}
				<div class="clearfix"> </div>
			</div>
			<!-- 排行榜视频第三批展示-需要遍历 -->
			<div class="boxTop3">
				{foreach $noClick as $vClick}
				<div class="col-md-4 resent-grid recommended-grid slider-top-grids">
					<div class="resent-grid-img recommended-grid-img">
						<a href="/index/single/single?vid={$vClick['id']}"><img src="http://p3d4qx20z.bkt.clouddn.com/{$vClick['pic']}" alt="" style="box-shadow: 2px 2px 2px #C1C1C1;" /></a>
						<div class="clck">
							<span class="glyphicon glyphicon-time" aria-hidden="true">{$vClick['time_long']}</span>
						</div>
					</div>
					<div class="resent-grid-info recommended-grid-info">
						<h3 style="height: 25px;"><a href="/index/single/single?vid={$vClick['id']}" class="title title-info">{$vClick['title']}</a></h3>
						<ul>
							<li><p class="author author-info"><a href="" class="author">{$vClick['up_name']}</a></p></li>
							<li class="right-list"><p class="views views-info">{$vClick['click_num'] / 2}次浏览</p></li>
						</ul>
					</div>
				</div>
				{/foreach}
				<div class="clearfix"> </div>
			</div>
		</div>
		<!-- 排行榜的选项卡 -->
		<script type="text/javascript">
			$(function () {
				$('.btnTop3').mouseover(function () {
					$(this).addClass('choice').siblings().removeClass('choice');
					var index = $(this).index();
					$('.boxTop3').eq(index).addClass('show').siblings().removeClass('show');
				});
			});
		</script>
		<!-- 完成-排行榜 -->
		<!-- 各版块视频展示 -->
		<div class="recommended">
			<!-- 随机视频版块-->
			<style type="text/css">
				#randomLeft {
					width:50px; 
					height: 70px; 
					line-height: 70px; 
					text-align: center; 
					font-size: 40px; 
					background-color: #cdcdcd; 
					border:0px; 
					border-radius: 5px; 
					float: left;
					top: -190px; 
					left: 1px;
					z-index: 2; 
					opacity: 0.6;"
				}
				#randomRight {
					width:50px; 
					height: 70px; 
					line-height: 70px; 
					text-align: center; 
					font-size: 40px; 
					background-color: #cdcdcd; 
					border:0px; 
					border-radius: 5px; 
					position: relative; 
					top: -190px; 
					right: 15px;
					float: right;
					z-index: 2; 
					opacity: 0.8;"
				}
				.randVedio {
					display: none;
				}	
				.randShow {
					display: block;
				}
			</style>
			<div class="recommended-grids" id="randBox">
				<!-- 随机版块标题 -->
				<div class="recommended-info">
					<span style="font-size:20px;"><b>手气不错</b></span>
					<script type="text/javascript">
						$('.changeRand').on('click', function() {
							window.location.reload();
						return false;
						});
					</script>
				</div>
				<!-- 随机展示视频-需要遍历 -->
				<!-- {$i = 0} -->
				{foreach $randRes as $randValue}
				{if $i <4 }
					{if !empty($randValue['0'])}
					<div class="col-md-3 resent-grid recommended-grid randVedio randShow">
						<div class="resent-grid-img recommended-grid-img">
							<a href="/index/single/single?vid={$randValue['0']['id']}"><img src="http://p3d4qx20z.bkt.clouddn.com/{$randValue['0']['pic']}" alt="" style="box-shadow: 2px 2px 2px #C1C1C1;" /></a>
							<div class="time small-time">
								<p class="glyphicon glyphicon-time">{$randValue['0']['time_long']}</p>
							</div>
						</div>
						<div class="resent-grid-info recommended-grid-info video-info-grid">
							<h5 style="height: 25px;"><a href="/index/single/single?vid={$randValue['0']['id']}" class="title">{$randValue['0']['title']}</a></h5>
							<ul>
								<li><p class="author author-info"><a href="" class="author">{$randValue['0']['up_name']}</a></p></li>
								<li class="right-list"><p class="views views-info">{$randValue['0']['click_num'] / 2}次浏览</p></li>
							</ul>
						</div>
					</div>
					<!-- {$i++} -->
					{/if}
				{else if}
					{if !empty($randValue['0'])}
					<div class="col-md-3 resent-grid recommended-grid randVedio">
						<div class="resent-grid-img recommended-grid-img">
							<a href="/index/single/single?vid={$randValue['0']['id']}"><img src="http://p3d4qx20z.bkt.clouddn.com/{$randValue['0']['pic']}" alt="" style="box-shadow: 2px 2px 2px #C1C1C1;" /></a>
							<div class="time small-time">
								<p class="glyphicon glyphicon-time">{$randValue['0']['time_long']}</p>
							</div>
						</div>
						<div class="resent-grid-info recommended-grid-info video-info-grid">
							<h5><a href="/index/single/single?vid={$randValue['0']['id']}" class="title">{$randValue['0']['title']}</a></h5>
							<ul>
								<li><p class="author author-info"><a href="" class="author">{$randValue['0']['up_name']}</a></p></li>
								<li class="right-list"><p class="views views-info">{$randValue['0']['click_num'] / 2}次浏览</p></li>
							</ul>
						</div>
					</div>
					{/if}
				{/if}
				{/foreach}
				<div class="clearfix"> </div>
				<button id="randomLeft" class="glyphicon glyphicon-menu-left" ></button>
				<button id="randomRight" class="glyphicon glyphicon-menu-right" ></button>
				<div class="clearfix" style="height: 10px;"></div>
			</div>
			<!-- 完成-随机版块 -->
			<!-- 定时轮播 -->
				<script type="text/javascript">
					var oRand = 0;
					var AllRand = $('.randVedio').length;
					// 轮播按钮-下一个
					$('#randomRight').click(next);
					function next() 
					{
						if (oRand >= (AllRand-4)) {
							oRand = -1;
						}
						oRand = oRand + 1;
						$('.randVedio').eq(oRand % AllRand).addClass('randShow').siblings().removeClass('randShow');
						$('.randVedio').eq((oRand+1)% AllRand).addClass('randShow');
						$('.randVedio').eq((oRand+2)% AllRand).addClass('randShow');
						$('.randVedio').eq((oRand+3) % AllRand).addClass('randShow');
					};
					// 轮播按钮-上一个
					$('#randomLeft').click(prevv);
					function prevv() 
					{
						if (oRand <= 0) {
							oRand = AllRand-3;
						}
						$('.randVedio').eq(oRand-1 % AllRand).addClass('randShow').siblings().removeClass('randShow');
						$('.randVedio').eq((oRand)% AllRand).addClass('randShow');
						$('.randVedio').eq((oRand+1)% AllRand).addClass('randShow');
						$('.randVedio').eq((oRand+2) % AllRand).addClass('randShow');
						oRand = oRand - 1;
					};
					var timer = setInterval(next , 2000);
					$('#randBox').mouseover(function () {
						clearInterval(timer);
					});
					$('#randBox').mouseout(function () {
						clearInterval(timer);
						timer = setInterval(next , 2000);
					});
				</script>
				<!-- 完成-定时轮播 -->
			<!-- 完成-随机视频展示页面 -->
			<!-- 频道视频展示-需要遍历 -->
			<div class="recommended-grids">
				<!-- {$j = 0} -->
				{foreach $childRes as $vChild}
				<!-- 单个版块标题 -->
				<div class="recommended-info">
					<span style="font-size:20px; width: 100%;"><b>{$bigClass[$j]['name']}</b>&nbsp;&nbsp;<a href="/index/index/class?cid={$bigClass[$j]['id']}">查看更多</a></span>
				</div>
				<!-- {$j++} -->
				<!-- 完成-单个版块标题 -->
					{foreach $vChild as $vcRes}
					<!-- 单个频道展示四个视频 -->
					<div class="col-md-3 resent-grid recommended-grid" style="padding-bottom: 60px;">
						<div class="resent-grid-img recommended-grid-img">
							<a href="/index/single/single?vid={$vcRes['id']}">
								<img src="http://p3d4qx20z.bkt.clouddn.com/{$vcRes['pic']}" alt="" style="box-shadow: 2px 2px 2px #C1C1C1;" />
							</a>
							<div class="time small-time">
								<p class="glyphicon glyphicon-time">{$vcRes['time_long']}</p>
							</div>
						</div>
						<div class="resent-grid-info recommended-grid-info video-info-grid">
							<h5 style="height: 20px;"><a href="/index/single/single?vid={$vcRes['id']}" class="title">{$vcRes['title']}</a></h5>
							<ul>
								<li><p class="author author-info"><a href="" class="author">{$vcRes['up_name']}</a></p></li>
								<li class="right-list"><p class="views views-info">{$vcRes['click_num'] / 2}次浏览</p></li>
							</ul>
						</div>
					</div>
					<!-- 完成-单个频道展示 -->
					{/foreach}
				{/foreach}
				<div class="clearfix"> </div>
			<!-- 完成-频道视频展示页面 -->
			</div>
		</div>
	</div>
	<!-- 完成-视频展示页面 -->
	{/block}
</body>
</html>